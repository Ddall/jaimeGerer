<?php

namespace AppBundle\Entity\CRM;

use Doctrine\ORM\EntityRepository;

/**
 * CompetComRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class CompetComRepository extends EntityRepository
{

	public function findCurrent(){

		$today = date('Y-m-d');
		$result = $this->createQueryBuilder('t')
		->where('t.startDate <= :today')
		->andWhere('t.endDate >= :today')
		->setParameter('today', $today)
		->getQuery()
		->getOneOrNullResult();
		
		return $result;
	}
}
